<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRUECAST - Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.1rem;
        }

        .main-content {
            background: white;
            border-radius: 15px;
            padding: 3rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            line-height: 1.6;
            color: #34495e;
        }

        .section {
            margin-bottom: 2.5rem;
        }

        .section h2 {
            font-size: 2rem;
            color: #2c3e50;
            margin-bottom: 1rem;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 0.5rem;
        }

        .section h3 {
            font-size: 1.5rem;
            color: #34495e;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }

        .code-block {
            background: #2d3748;
            color: #cbd5e0;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            overflow-x: auto;
            white-space: pre;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9rem;
            position: relative;
        }

        .code-block .comment {
            color: #718096;
        }

        .nav-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            transition: all 0.3s ease;
        }

        .nav-links a:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸ“š Documentation</h1>
            <p>A guide for developers and system administrators</p>
        </div>

        <div class="main-content">
            <div class="section">
                <h2>Introduction</h2>
                <p>
                    TRUECAST is a secure, blockchain-based digital voting system designed to ensure transparency, immutability, and accessibility. This documentation provides a technical overview of the system's architecture, APIs, and key components.
                </p>
            </div>

            <div class="section">
                <h2>System Architecture</h2>
                <p>
                    The TRUECAST system is built on a modern, scalable architecture with a clear separation of concerns.
                </p>
                <h3>Frontend</h3>
                <p>
                    The frontend is developed using HTML, CSS, and vanilla JavaScript. It is designed to be lightweight, responsive, and compatible with modern web browsers and mobile devices.
                </p>
                <h3>Backend</h3>
                <p>
                    The backend is powered by **Flask**, a lightweight Python web framework. It handles all business logic, including user authentication, data processing, and communication with the database.
                </p>
                <h3>Database</h3>
                <p>
                    We use **Firestore**, a NoSQL cloud database, for storing user information and election data. It provides real-time data synchronization and is well-suited for scalable web applications.
                </p>
                <h3>Blockchain</h3>
                <p>
                    The core of the system is the **private blockchain** that securely records all votes. Votes are encrypted, hashed, and stored on the ledger. Voter identity is not stored on the blockchain to ensure anonymity.
                </p>
            </div>

            <div class="section">
                <h2>API Endpoints</h2>
                <p>
                    The Flask backend exposes several API endpoints to facilitate communication with the frontend.
                </p>
                
                <h3><code>/api/voter/register</code></h3>
                <p><strong>Method:</strong> POST</p>
                <p><strong>Description:</strong> Registers a new voter in the system. It requires personal information, ID documents, and biometric data.</p>
                <div class="code-block">
                    {
  "name": "string",
  "email": "string",
  "phone": "string",
  "address": "string",
  "id_document_url": "string",
  "biometric_hash": "string"
}
                </div>

                <h3><code>/api/voter/login</code></h3>
                <p><strong>Method:</strong> POST</p>
                <p><strong>Description:</strong> Authenticates a voter using their ID and one of the registered authentication methods (biometric, OTP, PIN).</p>
                <div class="code-block">
                    {
  "voter_id": "string",
  "auth_method": "biometric" | "otp" | "pin",
  "auth_data": "string"
}
                </div>

                <h3><code>/api/vote/cast</code></h3>
                <p><strong>Method:</strong> POST</p>
                <p><strong>Description:</strong> Records a vote on the blockchain. The vote is encrypted and stored with a transaction hash.</p>
                <div class="code-block">
                    {
  "voter_id": "string",
  "election_id": "string",
  "selections": {
    "race_name": "candidate_id",
    "proposition_name": "yes" | "no"
  }
}
                </div>

                <h3><code>/api/vote/verify</code></h3>
                <p><strong>Method:</strong> GET</p>
                <p><strong>Description:</strong> Verifies a vote using a transaction hash or voter ID. Returns vote details from the blockchain.</p>
                <div class="code-block">
                    <span class="comment">// GET /api/vote/verify?tx_hash=0x...</span>
                    <span class="comment">// or</span>
                    <span class="comment">// GET /api/vote/verify?voter_id=VS...</span>
                </div>
            </div>

            <div class="section">
                <h2>Contributing to TRUECAST</h2>
                <p>
                    We welcome contributions from the open-source community. If you are interested in contributing, please review our code on GitHub and open a pull request.
                </p>
                <h3>Getting Started</h3>
                <ul>
                    <li>Clone the repository.</li>
                    <li>Install dependencies: <code>pip install -r requirements.txt</code></li>
                    <li>Set up your Firebase project and configure the credentials.</li>
                    <li>Run the application with <code>python app.py</code>.</li>
                </ul>
            </div>
        </div>

        <div class="nav-links">
            <a href="/">Back to Home</a>
            <a href="/security">Security & Trust</a>
        </div>
    </div>
</body>
</html>
